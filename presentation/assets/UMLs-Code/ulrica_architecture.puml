@startuml ULRICA Architecture

' Styling
skinparam backgroundColor white
skinparam class {
    BackgroundColor LightBlue
    ArrowColor Black
    BorderColor Black
}

' Packages
package "Domain Layer" {
    class CarProfile
    class BatteryProfile
    class ConsumptionProfile
    class ChargingCurve
    class RangeParameters
    class RangeResult
    class ApplicationState
}

package "Application Layer" {
    package "Ports" {
        package "In" {
            interface "CalculateAcChargingUseCaseInterface"
            interface "CalculateDcChargingUseCaseInterface"
            interface "CalculateRangeUseCaseInterface"
            interface "CreateCarProfileUseCaseInterface"
            interface "ExecuteActionUseCaseInterface"
            interface "InputValidationServiceInterface"
            interface "NavigationUseCaseInterface"
            interface "ShowActionMenuUseCaseInterface"
            interface "ShowCarProfileMenuUseCaseInterface"
            interface "ShowMainMenuUseCaseInterface"
            interface "ShowWelcomeUseCaseInterface"
        }
        package "Out" {
            interface "AcChargingOutputPortInterface"
            interface "CarProfilePersistencePortInterface"
            interface "DcChargingOutputPortInterface"
            interface "RangeCalculationOutputPortInterface"
            interface "UserInputPortInterface"
            interface "UserOutputPortInterface"
        }
    }
    package "Use Cases" {
        class "CalculateAcChargingInteractor"
        class "CalculateDcChargingInteractor"
        class "CalculateRangeInteractor"
        class "CreateCarProfileInteractor"
        class "ExecuteActionInteractor"
        class "NavigationUseCase"
        class "ShowActionMenuInteractor"
        class "ShowCarProfileMenuInteractor"
        class "ShowMainMenuInteractor"
        class "ShowWelcomeInteractor"
    }
}

package "Infrastructure Layer" {
    package "Adapter" {
        class "ConsoleUserInputAdapter"
        class "ConsoleUserOutputAdapter"
    }
    package "Persistence" {
        class "JsonCarProfileRepository"
    }
}

package "Presentation Layer" {
    package "Controller" {
        class "AcChargingController"
        class "ApplicationControllerWithActionMenu"
        class "DcChargingController"
        class "RangeCalculationController"
    }
    package "View" {
        class "AcChargingView"
        class "ActionMenuView"
        class "ActionResultView"
        class "CarProfileView"
        class "DcChargingView"
        class "MainMenuView"
        class "RangeCalculationView"
        class "WelcomeView"
    }
}

' Domain Layer Dependencies
CarProfile --> BatteryProfile
CarProfile --> ConsumptionProfile
CarProfile --> ChargingCurve
RangeParameters --> CarProfile
RangeResult --> RangeParameters

' Application Layer Dependencies
CalculateAcChargingInteractor ..|> CalculateAcChargingUseCaseInterface
CalculateDcChargingInteractor ..|> CalculateDcChargingUseCaseInterface
CalculateRangeInteractor ..|> CalculateRangeUseCaseInterface
CreateCarProfileInteractor ..|> CreateCarProfileUseCaseInterface
ExecuteActionInteractor ..|> ExecuteActionUseCaseInterface
NavigationUseCase ..|> NavigationUseCaseInterface
ShowActionMenuInteractor ..|> ShowActionMenuUseCaseInterface
ShowCarProfileMenuInteractor ..|> ShowCarProfileMenuUseCaseInterface
ShowMainMenuInteractor ..|> ShowMainMenuUseCaseInterface
ShowWelcomeInteractor ..|> ShowWelcomeUseCaseInterface

' Infrastructure Layer Dependencies
ConsoleUserInputAdapter ..|> UserInputPortInterface
ConsoleUserOutputAdapter ..|> UserOutputPortInterface
JsonCarProfileRepository ..|> CarProfilePersistencePortInterface

' Presentation Layer Dependencies
AcChargingView ..|> AcChargingOutputPortInterface
DcChargingView ..|> DcChargingOutputPortInterface
RangeCalculationView ..|> RangeCalculationOutputPortInterface

' Use Case Dependencies
CalculateAcChargingInteractor --> CarProfile
CalculateDcChargingInteractor --> CarProfile
CalculateRangeInteractor --> CarProfile
CreateCarProfileInteractor --> CarProfile
ExecuteActionInteractor --> CarProfile

@enduml 